# ğŸ”§ SSH è¿æ¥é—®é¢˜ - å®Œæ•´æ’æŸ¥æ­¥éª¤

## ğŸ“Š é—®é¢˜åˆ†æ

### å½“å‰çŠ¶æ€
- **æœåŠ¡å™¨ IP**ï¼š114.132.201.154ï¼ˆæ›´æ–°ï¼‰
- **å½“å‰ç”¨æˆ·**ï¼šlighthouse â†’ æ”¹ä¸º root
- **å¯†ç **ï¼šZhz2213200
- **é—®é¢˜**ï¼šSSH è¿æ¥è¢«æ‹’ç»

---

## ğŸ¯ ç«‹å³æ‰§è¡Œï¼ˆè…¾è®¯äº‘æ§åˆ¶å°ï¼‰

### æ–¹æ¡ˆ Aï¼šé€šè¿‡ VNC ç™»å½•ï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1ï¼šç™»å½• VNC

1. **ç™»å½•**ï¼šhttps://console.cloud.tencent.com/
2. **è¿›å…¥**ï¼šäº‘æœåŠ¡å™¨ CVM â†’ é€‰æ‹©å®ä¾‹ï¼š114.132.201.154
3. **ç‚¹å‡»**ï¼š**VNC ç™»å½•**
4. **è¾“å…¥å¯†ç **ï¼šZhz2213200

#### æ­¥éª¤ 2ï¼šæ£€æŸ¥ SSH æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥ SSH æœåŠ¡çŠ¶æ€
sudo systemctl status sshd

# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨ SSH æœåŠ¡
sudo systemctl start sshd

# æŸ¥çœ‹ SSH ç«¯å£
sudo ss -tlnp | grep :22
```

#### æ­¥éª¤éª¤ 3ï¼šæµ‹è¯• root ç™»å½•

```bash
# æµ‹è¯• root ç”¨æˆ·ç™»å½•
ssh root@114.132.132.201.154

# å¦‚æœä»æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹æ—¥å¿—
sudo tail -f /var/log/auth.log
```

---

## ğŸ¯ ç¬¬äºŒæ­¥ï¼šéªŒè¯å¹¶å®Œæˆéƒ¨ç½²

### æ­¥éª¤ 1ï¼šæ›´æ–°ä»£ç 

```bash
cd /var/blog
git fetch
git reset --hard origin/main
```

### æ­¥éª¤ 2ï¼šé‡å»º Docker é•œåƒ

```bash
docker compose build
```

**æ„å»ºè¿›åº¦**ï¼š
- â³ å®‰è£…ä¾èµ– [################......] 80%
- â³ ç¼–è¯‘ä»£ç  [#########] 40%
- â³ æ„å»ºé•œåƒ [############] 95%
- âœ… æ„å»ºå®Œæˆï¼

### æ­¥éª¤ 3ï¼šå¯åŠ¨æœåŠ¡

```bash
docker compose up -d
```

### æ­¥éª¤ 4ï¼šåˆå§‹åŒ–æ•°æ®åº“

```bash
docker compose exec -T backend pnpm db:generate
docker compose exec -T backend pnpm db:push
```

### æ­¥éª¤ 5ï¼šéªŒè¯éƒ¨ç½²

```bash
docker compose ps
docker compose logs --tail -20
```

---

## ğŸ”§ å¦‚æœ root ä»æ— æ³•è¿æ¥

### æ–¹æ³• 1ï¼šæ£€æŸ¥é˜²ç«å¢™è§„åˆ™

```bash
# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€
sudo ufw status

# å¼€æ”¾ SSH ç«¯å£
sudo ufw allow 22/tcp
```

### æ–¹æ³• 2ï¼šé‡å¯ SSH æœåŠ¡

```bash
sudo systemctl restart sshd
```

### æ–¹æ³• 3ï¼šé‡å¯æœåŠ¡å™¨ï¼ˆæœ€åæ‰‹æ®µï¼‰

**åœ¨è…¾è®¯äº‘æ§åˆ¶å°**ï¼š
1. åœæ­¢æœåŠ¡å™¨
2. é‡æ–°å¯åŠ¨æœåŠ¡å™¨
3. ç­‰å¾…å¯åŠ¨å®Œæˆåï¼Œé‡æ–° SSH ç™»å½•

---

## ğŸ“Š æ„å»ºçŠ¶æ€

### å‰ç«¯ï¼šâœ… å·²æˆåŠŸæ„å»º
- **é•œåƒåç§°**ï¼šblog-frontend
- **çŠ¶æ€**ï¼šå¯ç”¨

### åç«¯ï¼šâ³ éœ€è¦é‡æ–°æ„å»º
- **é—®é¢˜**ï¼šTypeScript ç±»å‹é”™è¯¯
- **ä¿®å¤**ï¼šå®‰è£…ç±»å‹å®šä¹‰ + ä¿®å¤ä»£ç 

---

## ğŸ¯ æ¨èæ“ä½œæµç¨‹

### åœ¨è…¾è®¯äº‘æ§åˆ¶å°ï¼ˆVNC/Web Shellï¼‰

#### æœ€é«˜ä¼˜å…ˆçº§

**éªŒè¯ root ç™»å½•**ï¼š
```bash
ssh root@114.132.201.154
uptime
```

**å¦‚æœæˆåŠŸï¼Œåˆ™æ‰§è¡Œ**ï¼š
```bash
cd /var/blog

# æ£€æŸ¥çŠ¶æ€
git fetch
git reset --hard origin/main

# å¯åŠ¨æœåŠ¡
docker compose up -d

# åˆå§‹åŒ–æ•°æ®åº“
docker compose exec -vT backend pnpm db:generate
docker compose exec -vT backend pnpm db:push
```

---

## ğŸ‰ å®Œæˆåçš„æ•ˆæœ

### è®¿é—®ä½ çš„åšå®¢
**åœ°å€**ï¼šhttp://114.132.201.154:3000

### æ—¥å¸¸ä½¿ç”¨
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker compose ps

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# é‡å¯æœåŠ¡
docker compose restart
```

---

## ğŸ“ é‡è¦æç¤º

1. **æœåŠ¡å™¨ IP æ›´æ–°**ï¼š114.132.201.201.154
2. **å¯†ç **ï¼šZhz2213200
3. **ç”¨æˆ·**ï¼šlighthouse â†’ root

---

**ç°åœ¨å°±å»è…¾è®¯äº‘æ§åˆ¶å°æ‰§è¡Œ "æ­¥éª¤ 1" éªŒè¯ root ç™»å½•å§ï¼** ğŸš€

**å¦‚æœä»æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹**ï¼š[ROOT_LOGIN_TROUBLESHOOTING.md](e:\testing\ROOT_LOGIN_TROUBLESHOOTING.md)
